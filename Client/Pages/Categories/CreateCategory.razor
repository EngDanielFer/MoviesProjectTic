@page "/categories/create"
@using MoviesProject.Client.Pages.Components
@inject IServiceMovies movie
@inject IErrorMessage showMessage
@inject NavigationManager navigationManager

<FormCategory OnValidSubmit="Create" Category="Category"></FormCategory>
@code{
    private Category Category = new Category();
    private async void Create() {
        var httpResponse = await movie.Post("api/categories", Category);
        if (httpResponse.Error)
        {
            var body = await httpResponse.GetBody();
            await showMessage.ShowErrorMessage(body);
        }
        else
        {
            navigationManager.NavigateTo("/categories");
        }
        Console.WriteLine($"Nombre de la categor√≠a: {Category.Name}");
    }
}